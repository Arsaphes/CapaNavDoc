@using CapaNavDoc.ViewModel
@model UserListViewModel

@{
    Layout = "~/Views/Shared/MyLayout.cshtml";
}

@section TitleSection
{
    Utilisateurs
}

@section HeaderSection
{
    <link href="~/Content/GridViewStyle.css" rel="stylesheet"/>
    <link href="~/Content/datatables.css" rel="stylesheet" />

    <script src="~/Scripts/datatables.js"></script>
    <script src="~/Scripts/Validations.js"></script>
    <script src="~/Scripts/Dialog.js"></script>
    <script src="~/Scripts/MyDataTable.js"></script>

    <script>
        $(function() {
            SetDataTable(
                "UserDataTable",
                "/User/AjaxHandler",
                [
                    { "sName: ": "FirstName" },
                    { "sName": "LastName" },
                    { "sName": "UserName" },
                    { "sName": "Password" }
                ],
                "@Url.Action("GetUserUpdateView")",
                "Mise à jour d*un utilisateur",
                380,
                "@Url.Action("GetConfirmationView")",
                "Suppression d*un utilisateur",
                460
            );
        });
    </script>
}

@section ContentBody
{

    <div id="DataTable" style="border: 3px solid green;">

        <table id="UserDataTable" class="display">
            <thead>
            <tr>
                <th>ID</th>
                <th>Prénom</th>
                <th>Nom</th>
                <th>Identifiant</th>
                <th>Mot de passe</th>
                <th>Modifier</th>
                <th>Supprimer</th>
            </tr>
            </thead>
            <tbody></tbody>
            <tfoot>
            <tr>
                <td></td>
                @*<td><input id="col1" type="text" style="width: 100%;"/></td>
                <td><input id="col2" type="text" style="width: 100%;"/></td>*@
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td><button type="button" onclick="ShowDialog('Ajout d\'un utilisateur', 380, '@Url.Action("GetUserInsertView")', 'EditForm', 'UserDataTable');">Ajouter un utilisateur</button></td>
            </tr>
            </tfoot>
        </table>

    </div>
}